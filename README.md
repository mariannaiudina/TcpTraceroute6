# TcpTraceroute6
TcpTraceroute6 — это утилита для анализа маршрутизации IPv6. Она использует протокол TCP для выполнения трассировки пути между двумя узлами сети и позволяет отслеживать путь пакета данных от источника до места назначения, показывая все промежуточные хосты и их IP-адреса.
## Основные функции
### 1. Трассировка пути
Основная функция TcpTraceroute6 заключается в выполнении трассировки пути между двумя узлами сети. Утилита использует метод `connect()` для установления TCP-соединения к каждому промежуточному хосту. Этот процесс включает отправку ICMP Echo Request сообщений с последующим ожиданием ответа от каждого промежуточного узла. Если ответ не получен, считается, что узел отсутствует или заблокирован.
### 2. Получение IP-адресов
TcpTraceroute6 собирает информацию об IP-адресах всех промежуточных хостов, через которые проходит пакет данных. Это помогает выявить проблемы с маршрутизацией и определить наличие «черных дыр» в сети. Полученные данные могут быть использованы для диагностики проблем с подключением и оптимизации маршрутизации.
### 3. Поддержка IPv6
Важной особенностью утилиты является поддержка работы с адресами IPv6, которые активно используются в современных сетях. Благодаря этому она может эффективно работать с новыми стандартами и предоставлять точную информацию о маршрутах передачи данных.
### 4. Отчетность
По результатам работы утилита предоставляет отчет о пройденном пути, включая временные метки и другую полезную информацию. В отчете отображаются IP-адреса всех промежуточных хостов, время прохождения каждого сегмента пути и статус каждой попытки соединения. Эти данные позволяют быстро оценить состояние сети и выявить потенциальные проблемы.
## Руководство по установке и настройке
### Шаг 1: Загрузка исходного кода
- Перейдите на страницу проекта на GitHub: https://github.com/remlab/ndisc6. 
- Cкачайте архив с исходным кодом утилиты, нажав на кнопку Download ZIP.
### Шаг 2: Распаковка архива
- Распакуйте архив в удобное для вас место. Например, вы можете использовать команду `tar xzvf ndisc6-*.tar.gz`: она распаковывает содержимое архива в текущую директорию.
### Шаг 3: Компиляция утилиты
- Для компиляции утилиты необходимо иметь установленную среду разработки C++. Проверьте, что у вас установлены необходимые инструменты, такие как g++ или clang.
- Перейдите в директорию распакованного архива и запустите команду `make`. Она компилирует исходный код и создает исполняемый файл утилиты. Если все прошло успешно, утилита будет готова к использованию.
## Примеры использования
Для использования TcpTraceroute6 выполните следующие команды:
```
./traceroute6 -d hostname
```
Здесь `-d` указывает на использование протокола TCP вместо UDP. Параметр `hostname` является целевым узлом, к которому нужно подключиться. Утилита будет пытаться соединиться с каждым промежуточным хостом, чтобы определить полный маршрут до конечного пункта.
### Трассировка пути до google.com
```
./traceroute6 -d google.com
```
Этот пример показывает, как использовать TcpTraceroute6 для выполнения трассировки пути до сервера Google. Утилита отобразит список всех промежуточных хостов и их IP-адреса.
### Трассировка пути до локальной машины
```
./traceroute6 -d localhost
```
Этот пример демонстрирует использование утилиты для трассировки пути до локального хоста. Здесь `localhost` указывает на локальный узел, который обычно находится в пределах домашней или офисной сети.
### Настройка количества точек выхода
Когда трассировка проходит через большое количество промежуточных хостов, можно ограничить количество проверяемых точек выхода с помощью параметра -m. Например:
```
./traceroute6 -d -m 5 example.com
```
Этот пример ограничивает проверку только первыми пятью точками выхода.
### Определение промежутка времени между запросами
Параметр -i позволяет задать интервал времени между запросами в миллисекундах. Например:
```
./traceroute6 -d -i 100 example.com
```
Этот пример увеличивает интервал между запросами до 100 миллисекунд.
### Управление буфером
Параметр -b управляет размером буфера для обработки ответов от удаленных хостов. Например:
```
./traceroute6 -d -b 8192 example.com
```
Этот пример увеличивает размер буфера до 8192 байт.
### Проверка работоспособности конкретного порта
Используя параметр -p, можно проверить работоспособность определенного порта на конечном узле. Например:
```
./traceroute6 -d -p 80 example.com
```
Этот пример проверяет работоспособность порта 80 на сервере example.com.
### Трассировка пути до локального сервера
Пример проверки пути до локального сервера с использованием определенного порта:
```
./traceroute6 -d -p 80 localhost
```
Этот пример показывает, как использовать TcpTraceroute6 для проверки работоспособности порта 80 на локальном сервере.
## Отчетность
По завершении трассировки TcpTraceroute6 предоставляет:
- Отчет о времени прохождения каждого сегмента пути, который помогает определить возможные узкие места или проблемы в сети;
- Отчет об IP-адресах всех промежуточных хостов, который позволяет понять структуру сети и выявить возможные точки отказа;
- Отчет о том, были попытки соединения успешными или нет (если соединение не удалось, это может свидетельствовать о проблемах на одном из промежуточных узлов или о наличии блокировок).
## Поддержка и развитие
Проект активно развивается сообществом разработчиков. Вы можете найти актуальную информацию о новых версиях и возможностях утилиты на странице репозитория на GitHub. Если у вас есть предложения или замечания, вы можете оставить их там же.
## Лицензия
Утилита распространяется под лицензией BSD 3-Clause. Это значит, что вы можете свободно использовать, модифицировать и распространять утилиту, соблюдая условия данной лицензии.
## FAQ
**Какую версию операционной системы поддерживает TcpTraceroute6?** TcpTraceroute6 поддерживает большинство современных версий Unix-подобных операционных систем, включая Linux, BSD и macOS.

**В чем отличие TcpTraceroute6 от традиционного traceroute?** TcpTraceroute6 использует TCP-пакеты для трассировки маршрута, тогда как традиционный traceroute обычно использует UDP или ICMP. Это может помочь обойти ограничения на использование других протоколов.

**Что делать, если я получаю сообщение об ошибке Destination Unreachable?** Это сообщение может указывать на проблему с маршрутизацией, закрытые порты на целевом хосте или конфигурацию брандмауэра. Проверьте эти аспекты.

**Поддерживает ли TcpTraceroute6 IPv4?** Как правило, TcpTraceroute6 предназначен исключительно для IPv6. Для трассировки маршрутов в IPv4 используйте стандартный traceroute или другой соответствующий инструмент.

**Существуют ли альтернативы TcpTraceroute6?** Да, существуют другие инструменты для трассировки маршрутов, включая MTR и обычный traceroute, которые также могут использоваться для диагностики сетевых проблем.
